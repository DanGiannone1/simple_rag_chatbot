import{r as z,j as w,B as je,D as kt,T as U,L as ke,S as Pe,G as bt,P as ne,b as xt,c as wt,d as yt,A as Ct,M as vt,e as St,C as At}from"./mantine-rwwOk0Ol.js";import{a as Ft}from"./react-core-iN9lqvNv.js";import{R as Dt,h as Rt}from"./markdown-CrPbajbF.js";import{I as Me,a as zt,b as It}from"./icons-BxGKNxfI.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var B={},be;function Tt(){if(be)return B;be=1;var e=Ft();return B.createRoot=e.createRoot,B.hydrateRoot=e.hydrateRoot,B}var Et=Tt();const A=[];for(let e=0;e<256;++e)A.push((e+256).toString(16).slice(1));function Lt(e,n=0){return(A[e[n+0]]+A[e[n+1]]+A[e[n+2]]+A[e[n+3]]+"-"+A[e[n+4]]+A[e[n+5]]+"-"+A[e[n+6]]+A[e[n+7]]+"-"+A[e[n+8]]+A[e[n+9]]+"-"+A[e[n+10]]+A[e[n+11]]+A[e[n+12]]+A[e[n+13]]+A[e[n+14]]+A[e[n+15]]).toLowerCase()}let K;const jt=new Uint8Array(16);function Pt(){if(!K){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");K=crypto.getRandomValues.bind(crypto)}return K(jt)}const Mt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xe={randomUUID:Mt};function we(e,n,t){if(xe.randomUUID&&!n&&!e)return xe.randomUUID();e=e||{};const r=e.random||(e.rng||Pt)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Lt(r)}function Ot(){const[e,n]=z.useState([]),[t,r]=z.useState(!1),[o,l]=z.useState(null),i=z.useCallback(async s=>{var c;if(t)return;const a={id:we(),text:s,isBot:!1,timestamp:new Date};n(g=>[...g,a]);const u=we(),h={id:u,text:"",isBot:!0,timestamp:new Date,isComplete:!1};n(g=>[...g,h]),l(u),r(!0);try{const g=await fetch("/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});if(!g.ok)throw new Error("Failed to get response");const m=(c=g.body)==null?void 0:c.getReader();if(!m)throw new Error("No reader available");let f=[],k="";for(;;){const{done:b,value:d}=await m.read();if(b)break;const y=new TextDecoder().decode(d).split(`
`);for(const S of y)if(S.startsWith("data: ")){if(S.includes("[DONE]")){n(C=>C.map(v=>v.id===u?{...v,isComplete:!0}:v)),r(!1),l(null);break}try{const C=JSON.parse(S.slice(5));C.citations&&(f=C.citations,n(v=>v.map(F=>F.id===u?{...F,citations:f}:F))),C.chunk&&(k+=C.chunk,n(v=>v.map(F=>F.id===u?{...F,text:k}:F)))}catch(C){console.error("Failed to parse chunk:",C)}}}}catch(g){console.error("Chat error:",g),n(m=>m.map(f=>f.id===u?{...f,text:"Error: Failed to get response",isComplete:!0}:f))}finally{r(!1),l(null)}},[t]);return{messages:e,isStreaming:t,currentStreamId:o,sendMessage:i}}function ye(e,n){const t=String(e);if(typeof n!="string")throw new TypeError("Expected character");let r=0,o=t.indexOf(n);for(;o!==-1;)r++,o=t.indexOf(n,o+n.length);return r}const $t=Oe(new RegExp("\\p{P}|\\p{S}","u")),_t=Oe(/\s/);function Oe(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function Bt(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const ae=function(e){if(e==null)return Wt;if(typeof e=="function")return V(e);if(typeof e=="object")return Array.isArray(e)?Nt(e):Ht(e);if(typeof e=="string")return Ut(e);throw new Error("Expected function, string, or object as test")};function Nt(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=ae(e[t]);return V(r);function r(...o){let l=-1;for(;++l<n.length;)if(n[l].apply(this,o))return!0;return!1}}function Ht(e){const n=e;return V(t);function t(r){const o=r;let l;for(l in e)if(o[l]!==n[l])return!1;return!0}}function Ut(e){return V(n);function n(t){return t&&t.type===e}}function V(e){return n;function n(t,r,o){return!!(qt(t)&&e.call(this,t,typeof r=="number"?r:void 0,o||void 0))}}function Wt(){return!0}function qt(e){return e!==null&&typeof e=="object"&&"type"in e}const $e=[],Vt=!0,Ce=!1,Gt="skip";function Jt(e,n,t,r){let o;o=n;const l=ae(o),i=1;s(e,void 0,[])();function s(a,u,h){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const m=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=$e,f,k,b;if(l(a,u,h[h.length-1]||void 0)&&(m=Qt(t(a,h)),m[0]===Ce))return m;if("children"in a&&a.children){const d=a;if(d.children&&m[0]!==Gt)for(k=-1+i,b=h.concat(d);k>-1&&k<d.children.length;){const x=d.children[k];if(f=s(x,k,b)(),f[0]===Ce)return f;k=typeof f[1]=="number"?f[1]:k+i}}return m}}}function Qt(e){return Array.isArray(e)?e:typeof e=="number"?[Vt,e]:e==null?$e:[e]}function Kt(e,n,t){const o=ae(t.ignore||[]),l=Zt(n);let i=-1;for(;++i<l.length;)Jt(e,"text",s);function s(u,h){let c=-1,g;for(;++c<h.length;){const m=h[c],f=g?g.children:void 0;if(o(m,f?f.indexOf(m):void 0,g))return;g=m}if(g)return a(u,h)}function a(u,h){const c=h[h.length-1],g=l[i][0],m=l[i][1];let f=0;const b=c.children.indexOf(u);let d=!1,x=[];g.lastIndex=0;let y=g.exec(u.value);for(;y;){const S=y.index,C={index:y.index,input:y.input,stack:[...h,u]};let v=m(...y,C);if(typeof v=="string"&&(v=v.length>0?{type:"text",value:v}:void 0),v===!1?g.lastIndex=S+1:(f!==S&&x.push({type:"text",value:u.value.slice(f,S)}),Array.isArray(v)?x.push(...v):v&&x.push(v),f=S+y[0].length,d=!0),!g.global)break;y=g.exec(u.value)}return d?(f<u.value.length&&x.push({type:"text",value:u.value.slice(f)}),c.children.splice(b,1,...x)):x=[u],b+x.length}}function Zt(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<t.length;){const o=t[r];n.push([Yt(o[0]),Xt(o[1])])}return n}function Yt(e){return typeof e=="string"?new RegExp(Bt(e),"g"):e}function Xt(e){return typeof e=="function"?e:function(){return e}}const Z="phrasing",Y=["autolink","link","image","label"];function en(){return{transforms:[sn],enter:{literalAutolink:nn,literalAutolinkEmail:X,literalAutolinkHttp:X,literalAutolinkWww:X},exit:{literalAutolink:an,literalAutolinkEmail:ln,literalAutolinkHttp:rn,literalAutolinkWww:on}}}function tn(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Z,notInConstruct:Y},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Z,notInConstruct:Y},{character:":",before:"[ps]",after:"\\/",inConstruct:Z,notInConstruct:Y}]}}function nn(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function X(e){this.config.enter.autolinkProtocol.call(this,e)}function rn(e){this.config.exit.autolinkProtocol.call(this,e)}function on(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}function ln(e){this.config.exit.autolinkEmail.call(this,e)}function an(e){this.exit(e)}function sn(e){Kt(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,un],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),cn]],{ignore:["link","linkReference"]})}function un(e,n,t,r,o){let l="";if(!_e(o)||(/^w/i.test(n)&&(t=n+t,n="",l="http://"),!fn(t)))return!1;const i=hn(t+r);if(!i[0])return!1;const s={type:"link",title:null,url:l+n+i[0],children:[{type:"text",value:n+i[0]}]};return i[1]?[s,{type:"text",value:i[1]}]:s}function cn(e,n,t,r){return!_e(r,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+t,children:[{type:"text",value:n+"@"+t}]}}function fn(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function hn(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let t=n[0],r=t.indexOf(")");const o=ye(e,"(");let l=ye(e,")");for(;r!==-1&&o>l;)e+=t.slice(0,r+1),t=t.slice(r+1),r=t.indexOf(")"),l++;return[e,t]}function _e(e,n){const t=e.input.charCodeAt(e.index-1);return(e.index===0||_t(t)||$t(t))&&(!n||t!==47)}function Be(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}Ne.peek=vn;function pn(){return{enter:{gfmFootnoteDefinition:mn,gfmFootnoteDefinitionLabelString:dn,gfmFootnoteCall:xn,gfmFootnoteCallString:wn},exit:{gfmFootnoteDefinition:bn,gfmFootnoteDefinitionLabelString:kn,gfmFootnoteCall:Cn,gfmFootnoteCallString:yn}}}function gn(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:Sn,footnoteReference:Ne}}}function mn(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function dn(){this.buffer()}function kn(e){const n=this.resume(),t=this.stack[this.stack.length-1];t.type,t.label=n,t.identifier=Be(this.sliceSerialize(e)).toLowerCase()}function bn(e){this.exit(e)}function xn(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function wn(){this.buffer()}function yn(e){const n=this.resume(),t=this.stack[this.stack.length-1];t.type,t.label=n,t.identifier=Be(this.sliceSerialize(e)).toLowerCase()}function Cn(e){this.exit(e)}function Ne(e,n,t,r){const o=t.createTracker(r);let l=o.move("[^");const i=t.enter("footnoteReference"),s=t.enter("reference");return l+=o.move(t.safe(t.associationId(e),{...o.current(),before:l,after:"]"})),s(),i(),l+=o.move("]"),l}function vn(){return"["}function Sn(e,n,t,r){const o=t.createTracker(r);let l=o.move("[^");const i=t.enter("footnoteDefinition"),s=t.enter("label");return l+=o.move(t.safe(t.associationId(e),{...o.current(),before:l,after:"]"})),s(),l+=o.move("]:"+(e.children&&e.children.length>0?" ":"")),o.shift(4),l+=o.move(t.indentLines(t.containerFlow(e,o.current()),An)),i(),l}function An(e,n,t){return n===0?e:(t?"":"    ")+e}const Fn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];He.peek=Tn;function Dn(){return{canContainEols:["delete"],enter:{strikethrough:zn},exit:{strikethrough:In}}}function Rn(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Fn}],handlers:{delete:He}}}function zn(e){this.enter({type:"delete",children:[]},e)}function In(e){this.exit(e)}function He(e,n,t,r){const o=t.createTracker(r),l=t.enter("strikethrough");let i=o.move("~~");return i+=t.containerPhrasing(e,{...o.current(),before:i,after:"~"}),i+=o.move("~~"),l(),i}function Tn(){return"~"}function En(e){return e.length}function Ln(e,n){const t=n,r=(t.align||[]).concat(),o=t.stringLength||En,l=[],i=[],s=[],a=[];let u=0,h=-1;for(;++h<e.length;){const k=[],b=[];let d=-1;for(e[h].length>u&&(u=e[h].length);++d<e[h].length;){const x=jn(e[h][d]);if(t.alignDelimiters!==!1){const y=o(x);b[d]=y,(a[d]===void 0||y>a[d])&&(a[d]=y)}k.push(x)}i[h]=k,s[h]=b}let c=-1;if(typeof r=="object"&&"length"in r)for(;++c<u;)l[c]=ve(r[c]);else{const k=ve(r);for(;++c<u;)l[c]=k}c=-1;const g=[],m=[];for(;++c<u;){const k=l[c];let b="",d="";k===99?(b=":",d=":"):k===108?b=":":k===114&&(d=":");let x=t.alignDelimiters===!1?1:Math.max(1,a[c]-b.length-d.length);const y=b+"-".repeat(x)+d;t.alignDelimiters!==!1&&(x=b.length+x+d.length,x>a[c]&&(a[c]=x),m[c]=x),g[c]=y}i.splice(1,0,g),s.splice(1,0,m),h=-1;const f=[];for(;++h<i.length;){const k=i[h],b=s[h];c=-1;const d=[];for(;++c<u;){const x=k[c]||"";let y="",S="";if(t.alignDelimiters!==!1){const C=a[c]-(b[c]||0),v=l[c];v===114?y=" ".repeat(C):v===99?C%2?(y=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(y=" ".repeat(C/2),S=y):S=" ".repeat(C)}t.delimiterStart!==!1&&!c&&d.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&x==="")&&(t.delimiterStart!==!1||c)&&d.push(" "),t.alignDelimiters!==!1&&d.push(y),d.push(x),t.alignDelimiters!==!1&&d.push(S),t.padding!==!1&&d.push(" "),(t.delimiterEnd!==!1||c!==u-1)&&d.push("|")}f.push(t.delimiterEnd===!1?d.join("").replace(/ +$/,""):d.join(""))}return f.join(`
`)}function jn(e){return e==null?"":String(e)}function ve(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function Pn(e,n,t,r){const o=t.enter("blockquote"),l=t.createTracker(r);l.move("> "),l.shift(2);const i=t.indentLines(t.containerFlow(e,l.current()),Mn);return o(),i}function Mn(e,n,t){return">"+(t?"":" ")+e}function On(e,n){return Se(e,n.inConstruct,!0)&&!Se(e,n.notInConstruct,!1)}function Se(e,n,t){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return t;let r=-1;for(;++r<n.length;)if(e.includes(n[r]))return!0;return!1}function Ae(e,n,t,r){let o=-1;for(;++o<t.unsafe.length;)if(t.unsafe[o].character===`
`&&On(t.stack,t.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $n(e,n){const t=String(e);let r=t.indexOf(n),o=r,l=0,i=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++l>i&&(i=l):l=1,o=r+n.length,r=t.indexOf(n,o);return i}function _n(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Bn(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function Nn(e,n,t,r){const o=Bn(t),l=e.value||"",i=o==="`"?"GraveAccent":"Tilde";if(_n(e,t)){const c=t.enter("codeIndented"),g=t.indentLines(l,Hn);return c(),g}const s=t.createTracker(r),a=o.repeat(Math.max($n(l,o)+1,3)),u=t.enter("codeFenced");let h=s.move(a);if(e.lang){const c=t.enter(`codeFencedLang${i}`);h+=s.move(t.safe(e.lang,{before:h,after:" ",encode:["`"],...s.current()})),c()}if(e.lang&&e.meta){const c=t.enter(`codeFencedMeta${i}`);h+=s.move(" "),h+=s.move(t.safe(e.meta,{before:h,after:`
`,encode:["`"],...s.current()})),c()}return h+=s.move(`
`),l&&(h+=s.move(l+`
`)),h+=s.move(a),u(),h}function Hn(e,n,t){return(t?"":"    ")+e}function se(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function Un(e,n,t,r){const o=se(t),l=o==='"'?"Quote":"Apostrophe",i=t.enter("definition");let s=t.enter("label");const a=t.createTracker(r);let u=a.move("[");return u+=a.move(t.safe(t.associationId(e),{before:u,after:"]",...a.current()})),u+=a.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=t.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(t.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=t.enter("destinationRaw"),u+=a.move(t.safe(e.url,{before:u,after:e.title?" ":`
`,...a.current()}))),s(),e.title&&(s=t.enter(`title${l}`),u+=a.move(" "+o),u+=a.move(t.safe(e.title,{before:u,after:o,...a.current()})),u+=a.move(o),s()),i(),u}function Wn(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function M(e){return"&#x"+e.toString(16).toUpperCase()+";"}function qn(e){return e!==null&&(e<0||e===32)}const Vn=Ue(new RegExp("\\p{P}|\\p{S}","u")),Gn=Ue(/\s/);function Ue(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function Fe(e){if(e===null||qn(e)||Gn(e))return 1;if(Vn(e))return 2}function W(e,n,t){const r=Fe(e),o=Fe(n);return r===void 0?o===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}We.peek=Jn;function We(e,n,t,r){const o=Wn(t),l=t.enter("emphasis"),i=t.createTracker(r),s=i.move(o);let a=i.move(t.containerPhrasing(e,{after:o,before:s,...i.current()}));const u=a.charCodeAt(0),h=W(r.before.charCodeAt(r.before.length-1),u,o);h.inside&&(a=M(u)+a.slice(1));const c=a.charCodeAt(a.length-1),g=W(r.after.charCodeAt(0),c,o);g.inside&&(a=a.slice(0,-1)+M(c));const m=i.move(o);return l(),t.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},s+a+m}function Jn(e,n,t){return t.options.emphasis||"*"}const qe=function(e){if(e==null)return Yn;if(typeof e=="function")return G(e);if(typeof e=="object")return Array.isArray(e)?Qn(e):Kn(e);if(typeof e=="string")return Zn(e);throw new Error("Expected function, string, or object as test")};function Qn(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=qe(e[t]);return G(r);function r(...o){let l=-1;for(;++l<n.length;)if(n[l].apply(this,o))return!0;return!1}}function Kn(e){const n=e;return G(t);function t(r){const o=r;let l;for(l in e)if(o[l]!==n[l])return!1;return!0}}function Zn(e){return G(n);function n(t){return t&&t.type===e}}function G(e){return n;function n(t,r,o){return!!(Xn(t)&&e.call(this,t,typeof r=="number"?r:void 0,o||void 0))}}function Yn(){return!0}function Xn(e){return e!==null&&typeof e=="object"&&"type"in e}const Ve=[],er=!0,re=!1,tr="skip";function nr(e,n,t,r){let o;typeof n=="function"&&typeof t!="function"?(r=t,t=n):o=n;const l=qe(o),i=r?-1:1;s(e,void 0,[])();function s(a,u,h){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const m=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=Ve,f,k,b;if((!n||l(a,u,h[h.length-1]||void 0))&&(m=rr(t(a,h)),m[0]===re))return m;if("children"in a&&a.children){const d=a;if(d.children&&m[0]!==tr)for(k=(r?d.children.length:-1)+i,b=h.concat(d);k>-1&&k<d.children.length;){const x=d.children[k];if(f=s(x,k,b)(),f[0]===re)return f;k=typeof f[1]=="number"?f[1]:k+i}}return m}}}function rr(e){return Array.isArray(e)?e:typeof e=="number"?[er,e]:e==null?Ve:[e]}function ir(e,n,t,r){let o,l,i;typeof n=="function"&&typeof t!="function"?(l=void 0,i=n,o=t):(l=n,i=t,o=r),nr(e,l,s,o);function s(a,u){const h=u[u.length-1],c=h?h.children.indexOf(a):void 0;return i(a,c,h)}}const or={};function Ge(e,n){const t=or,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,o=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Je(e,r,o)}function Je(e,n,t){if(lr(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return De(e.children,n,t)}return Array.isArray(e)?De(e,n,t):""}function De(e,n,t){const r=[];let o=-1;for(;++o<e.length;)r[o]=Je(e[o],n,t);return r.join("")}function lr(e){return!!(e&&typeof e=="object")}function ar(e,n){let t=!1;return ir(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,re}),!!((!e.depth||e.depth<3)&&Ge(e)&&(n.options.setext||t))}function sr(e,n,t,r){const o=Math.max(Math.min(6,e.depth||1),1),l=t.createTracker(r);if(ar(e,t)){const h=t.enter("headingSetext"),c=t.enter("phrasing"),g=t.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return c(),h(),g+`
`+(o===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const i="#".repeat(o),s=t.enter("headingAtx"),a=t.enter("phrasing");l.move(i+" ");let u=t.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(u)&&(u=M(u.charCodeAt(0))+u.slice(1)),u=u?i+" "+u:i,t.options.closeAtx&&(u+=" "+i),a(),s(),u}Qe.peek=ur;function Qe(e){return e.value||""}function ur(){return"<"}Ke.peek=cr;function Ke(e,n,t,r){const o=se(t),l=o==='"'?"Quote":"Apostrophe",i=t.enter("image");let s=t.enter("label");const a=t.createTracker(r);let u=a.move("![");return u+=a.move(t.safe(e.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=t.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(t.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=t.enter("destinationRaw"),u+=a.move(t.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=t.enter(`title${l}`),u+=a.move(" "+o),u+=a.move(t.safe(e.title,{before:u,after:o,...a.current()})),u+=a.move(o),s()),u+=a.move(")"),i(),u}function cr(){return"!"}Ze.peek=fr;function Ze(e,n,t,r){const o=e.referenceType,l=t.enter("imageReference");let i=t.enter("label");const s=t.createTracker(r);let a=s.move("![");const u=t.safe(e.alt,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),i();const h=t.stack;t.stack=[],i=t.enter("reference");const c=t.safe(t.associationId(e),{before:a,after:"]",...s.current()});return i(),t.stack=h,l(),o==="full"||!u||u!==c?a+=s.move(c+"]"):o==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function fr(){return"!"}Ye.peek=hr;function Ye(e,n,t){let r=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<t.unsafe.length;){const i=t.unsafe[l],s=t.compilePattern(i);let a;if(i.atBreak)for(;a=s.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return o+r+o}function hr(){return"`"}function Xe(e,n){const t=Ge(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(t===e.url||"mailto:"+t===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}et.peek=pr;function et(e,n,t,r){const o=se(t),l=o==='"'?"Quote":"Apostrophe",i=t.createTracker(r);let s,a;if(Xe(e,t)){const h=t.stack;t.stack=[],s=t.enter("autolink");let c=i.move("<");return c+=i.move(t.containerPhrasing(e,{before:c,after:">",...i.current()})),c+=i.move(">"),s(),t.stack=h,c}s=t.enter("link"),a=t.enter("label");let u=i.move("[");return u+=i.move(t.containerPhrasing(e,{before:u,after:"](",...i.current()})),u+=i.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=t.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(t.safe(e.url,{before:u,after:">",...i.current()})),u+=i.move(">")):(a=t.enter("destinationRaw"),u+=i.move(t.safe(e.url,{before:u,after:e.title?" ":")",...i.current()}))),a(),e.title&&(a=t.enter(`title${l}`),u+=i.move(" "+o),u+=i.move(t.safe(e.title,{before:u,after:o,...i.current()})),u+=i.move(o),a()),u+=i.move(")"),s(),u}function pr(e,n,t){return Xe(e,t)?"<":"["}tt.peek=gr;function tt(e,n,t,r){const o=e.referenceType,l=t.enter("linkReference");let i=t.enter("label");const s=t.createTracker(r);let a=s.move("[");const u=t.containerPhrasing(e,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),i();const h=t.stack;t.stack=[],i=t.enter("reference");const c=t.safe(t.associationId(e),{before:a,after:"]",...s.current()});return i(),t.stack=h,l(),o==="full"||!u||u!==c?a+=s.move(c+"]"):o==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function gr(){return"["}function ue(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function mr(e){const n=ue(e),t=e.options.bulletOther;if(!t)return n==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+t+"`) to be different");return t}function dr(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function nt(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function kr(e,n,t,r){const o=t.enter("list"),l=t.bulletCurrent;let i=e.ordered?dr(t):ue(t);const s=e.ordered?i==="."?")":".":mr(t);let a=n&&t.bulletLastUsed?i===t.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((i==="*"||i==="-")&&h&&(!h.children||!h.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(a=!0),nt(t)===i&&h){let c=-1;for(;++c<e.children.length;){const g=e.children[c];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(i=s),t.bulletCurrent=i;const u=t.containerFlow(e,r);return t.bulletLastUsed=i,t.bulletCurrent=l,o(),u}function br(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function xr(e,n,t,r){const o=br(t);let l=t.bulletCurrent||ue(t);n&&n.type==="list"&&n.ordered&&(l=(typeof n.start=="number"&&n.start>-1?n.start:1)+(t.options.incrementListMarker===!1?0:n.children.indexOf(e))+l);let i=l.length+1;(o==="tab"||o==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(i=Math.ceil(i/4)*4);const s=t.createTracker(r);s.move(l+" ".repeat(i-l.length)),s.shift(i);const a=t.enter("listItem"),u=t.indentLines(t.containerFlow(e,s.current()),h);return a(),u;function h(c,g,m){return g?(m?"":" ".repeat(i))+c:(m?l:l+" ".repeat(i-l.length))+c}}function wr(e,n,t,r){const o=t.enter("paragraph"),l=t.enter("phrasing"),i=t.containerPhrasing(e,r);return l(),o(),i}const rt=function(e){if(e==null)return Sr;if(typeof e=="function")return J(e);if(typeof e=="object")return Array.isArray(e)?yr(e):Cr(e);if(typeof e=="string")return vr(e);throw new Error("Expected function, string, or object as test")};function yr(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=rt(e[t]);return J(r);function r(...o){let l=-1;for(;++l<n.length;)if(n[l].apply(this,o))return!0;return!1}}function Cr(e){const n=e;return J(t);function t(r){const o=r;let l;for(l in e)if(o[l]!==n[l])return!1;return!0}}function vr(e){return J(n);function n(t){return t&&t.type===e}}function J(e){return n;function n(t,r,o){return!!(Ar(t)&&e.call(this,t,typeof r=="number"?r:void 0,o||void 0))}}function Sr(){return!0}function Ar(e){return e!==null&&typeof e=="object"&&"type"in e}const Fr=rt(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Dr(e,n,t,r){return(e.children.some(function(i){return Fr(i)})?t.containerPhrasing:t.containerFlow).call(t,e,r)}function Rr(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}it.peek=zr;function it(e,n,t,r){const o=Rr(t),l=t.enter("strong"),i=t.createTracker(r),s=i.move(o+o);let a=i.move(t.containerPhrasing(e,{after:o,before:s,...i.current()}));const u=a.charCodeAt(0),h=W(r.before.charCodeAt(r.before.length-1),u,o);h.inside&&(a=M(u)+a.slice(1));const c=a.charCodeAt(a.length-1),g=W(r.after.charCodeAt(0),c,o);g.inside&&(a=a.slice(0,-1)+M(c));const m=i.move(o+o);return l(),t.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},s+a+m}function zr(e,n,t){return t.options.strong||"*"}function Ir(e,n,t,r){return t.safe(e.value,r)}function Tr(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function Er(e,n,t){const r=(nt(t)+(t.options.ruleSpaces?" ":"")).repeat(Tr(t));return t.options.ruleSpaces?r.slice(0,-1):r}const ot={blockquote:Pn,break:Ae,code:Nn,definition:Un,emphasis:We,hardBreak:Ae,heading:sr,html:Qe,image:Ke,imageReference:Ze,inlineCode:Ye,link:et,linkReference:tt,list:kr,listItem:xr,paragraph:wr,root:Dr,strong:it,text:Ir,thematicBreak:Er};function Lr(){return{enter:{table:jr,tableData:Re,tableHeader:Re,tableRow:Mr},exit:{codeText:Or,table:Pr,tableData:ee,tableHeader:ee,tableRow:ee}}}function jr(e){const n=e._align;this.enter({type:"table",align:n.map(function(t){return t==="none"?null:t}),children:[]},e),this.data.inTable=!0}function Pr(e){this.exit(e),this.data.inTable=void 0}function Mr(e){this.enter({type:"tableRow",children:[]},e)}function ee(e){this.exit(e)}function Re(e){this.enter({type:"tableCell",children:[]},e)}function Or(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,$r));const t=this.stack[this.stack.length-1];t.type,t.value=n,this.exit(e)}function $r(e,n){return n==="|"?n:e}function _r(e){const n=e,t=n.tableCellPadding,r=n.tablePipeAlign,o=n.stringLength,l=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:i,tableCell:a,tableRow:s}};function i(m,f,k,b){return u(h(m,k,b),m.align)}function s(m,f,k,b){const d=c(m,k,b),x=u([d]);return x.slice(0,x.indexOf(`
`))}function a(m,f,k,b){const d=k.enter("tableCell"),x=k.enter("phrasing"),y=k.containerPhrasing(m,{...b,before:l,after:l});return x(),d(),y}function u(m,f){return Ln(m,{align:f,alignDelimiters:r,padding:t,stringLength:o})}function h(m,f,k){const b=m.children;let d=-1;const x=[],y=f.enter("table");for(;++d<b.length;)x[d]=c(b[d],f,k);return y(),x}function c(m,f,k){const b=m.children;let d=-1;const x=[],y=f.enter("tableRow");for(;++d<b.length;)x[d]=a(b[d],m,f,k);return y(),x}function g(m,f,k){let b=ot.inlineCode(m,f,k);return k.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Br(){return{exit:{taskListCheckValueChecked:ze,taskListCheckValueUnchecked:ze,paragraph:Hr}}}function Nr(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ur}}}function ze(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}function Hr(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const r=t.children[0];if(r&&r.type==="text"){const o=n.children;let l=-1,i;for(;++l<o.length;){const s=o[l];if(s.type==="paragraph"){i=s;break}}i===t&&(r.value=r.value.slice(1),r.value.length===0?t.children.shift():t.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,t.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Ur(e,n,t,r){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",i="["+(e.checked?"x":" ")+"] ",s=t.createTracker(r);l&&s.move(i);let a=ot.listItem(e,n,t,{...r,...s.current()});return l&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(h){return h+i}}function Wr(){return[en(),pn(),Dn(),Lr(),Br()]}function qr(e){return{extensions:[tn(),gn(),Rn(),_r(e),Nr()]}}function Vr(e,n,t,r){const o=e.length;let l=0,i;if(n<0?n=-n>o?0:o+n:n=n>o?o:n,t=t>0?t:0,r.length<1e4)i=Array.from(r),i.unshift(n,t),e.splice(...i);else for(t&&e.splice(n,t);l<r.length;)i=r.slice(l,l+1e4),i.unshift(n,0),e.splice(...i),l+=1e4,n+=1e4}const Ie={}.hasOwnProperty;function Gr(e){const n={};let t=-1;for(;++t<e.length;)Jr(n,e[t]);return n}function Jr(e,n){let t;for(t in n){const o=(Ie.call(e,t)?e[t]:void 0)||(e[t]={}),l=n[t];let i;if(l)for(i in l){Ie.call(o,i)||(o[i]=[]);const s=l[i];Qr(o[i],Array.isArray(s)?s:s?[s]:[])}}}function Qr(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);Vr(e,0,0,r)}const O=Q(/[A-Za-z]/),ce=Q(/[\dA-Za-z]/);function Kr(e){return e!==null&&(e<32||e===127)}function L(e){return e!==null&&(e<0||e===32)}const lt=Q(new RegExp("\\p{P}|\\p{S}","u")),$=Q(/\s/);function Q(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}const Zr={tokenize:ri,partial:!0},at={tokenize:ii,partial:!0},st={tokenize:oi,partial:!0},ut={tokenize:li,partial:!0},Yr={tokenize:ai,partial:!0},ct={name:"wwwAutolink",tokenize:ti,previous:ht},ft={name:"protocolAutolink",tokenize:ni,previous:pt},R={name:"emailAutolink",tokenize:ei,previous:gt},D={};function Xr(){return{text:D}}let I=48;for(;I<123;)D[I]=R,I++,I===58?I=65:I===91&&(I=97);D[43]=R;D[45]=R;D[46]=R;D[95]=R;D[72]=[R,ft];D[104]=[R,ft];D[87]=[R,ct];D[119]=[R,ct];function ei(e,n,t){const r=this;let o,l;return i;function i(c){return!ie(c)||!gt.call(r,r.previous)||fe(r.events)?t(c):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(c))}function s(c){return ie(c)?(e.consume(c),s):c===64?(e.consume(c),a):t(c)}function a(c){return c===46?e.check(Yr,h,u)(c):c===45||c===95||ce(c)?(l=!0,e.consume(c),a):h(c)}function u(c){return e.consume(c),o=!0,a}function h(c){return l&&o&&O(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(c)):t(c)}}function ti(e,n,t){const r=this;return o;function o(i){return i!==87&&i!==119||!ht.call(r,r.previous)||fe(r.events)?t(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Zr,e.attempt(at,e.attempt(st,l),t),t)(i))}function l(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(i)}}function ni(e,n,t){const r=this;let o="",l=!1;return i;function i(c){return(c===72||c===104)&&pt.call(r,r.previous)&&!fe(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(c),e.consume(c),s):t(c)}function s(c){if(O(c)&&o.length<5)return o+=String.fromCodePoint(c),e.consume(c),s;if(c===58){const g=o.toLowerCase();if(g==="http"||g==="https")return e.consume(c),a}return t(c)}function a(c){return c===47?(e.consume(c),l?u:(l=!0,a)):t(c)}function u(c){return c===null||Kr(c)||L(c)||$(c)||lt(c)?t(c):e.attempt(at,e.attempt(st,h),t)(c)}function h(c){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(c)}}function ri(e,n,t){let r=0;return o;function o(i){return(i===87||i===119)&&r<3?(r++,e.consume(i),o):i===46&&r===3?(e.consume(i),l):t(i)}function l(i){return i===null?t(i):n(i)}}function ii(e,n,t){let r,o,l;return i;function i(u){return u===46||u===95?e.check(ut,a,s)(u):u===null||L(u)||$(u)||u!==45&&lt(u)?a(u):(l=!0,e.consume(u),i)}function s(u){return u===95?r=!0:(o=r,r=void 0),e.consume(u),i}function a(u){return o||r||!l?t(u):n(u)}}function oi(e,n){let t=0,r=0;return o;function o(i){return i===40?(t++,e.consume(i),o):i===41&&r<t?l(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?e.check(ut,n,l)(i):i===null||L(i)||$(i)?n(i):(e.consume(i),o)}function l(i){return i===41&&r++,e.consume(i),o}}function li(e,n,t){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),l):s===93?(e.consume(s),o):s===60||s===null||L(s)||$(s)?n(s):t(s)}function o(s){return s===null||s===40||s===91||L(s)||$(s)?n(s):r(s)}function l(s){return O(s)?i(s):t(s)}function i(s){return s===59?(e.consume(s),r):O(s)?(e.consume(s),i):t(s)}}function ai(e,n,t){return r;function r(l){return e.consume(l),o}function o(l){return ce(l)?t(l):n(l)}}function ht(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||L(e)}function pt(e){return!O(e)}function gt(e){return!(e===47||ie(e))}function ie(e){return e===43||e===45||e===46||e===95||ce(e)}function fe(e){let n=e.length,t=!1;for(;n--;){const r=e[n][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){t=!0;break}if(r._gfmAutolinkLiteralWalkedInto){t=!1;break}}return e.length>0&&!t&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}function si(e){return e!==null&&e<-2}function q(e){return e!==null&&(e<0||e===32)}function oe(e){return e===-2||e===-1||e===32}function he(e,n,t,r){const o=r?r-1:Number.POSITIVE_INFINITY;let l=0;return i;function i(a){return oe(a)?(e.enter(t),s(a)):n(a)}function s(a){return oe(a)&&l++<o?(e.consume(a),s):(e.exit(t),n(a))}}const ui={partial:!0,tokenize:ci};function ci(e,n,t){return r;function r(l){return oe(l)?he(e,o,"linePrefix")(l):o(l)}function o(l){return l===null||si(l)?n(l):t(l)}}function pe(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const fi={tokenize:xi,partial:!0};function hi(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:di,continuation:{tokenize:ki},exit:bi}},text:{91:{name:"gfmFootnoteCall",tokenize:mi},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:pi,resolveTo:gi}}}}function pi(e,n,t){const r=this;let o=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;o--;){const a=r.events[o][1];if(a.type==="labelImage"){i=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return s;function s(a){if(!i||!i._balanced)return t(a);const u=pe(r.sliceSerialize({start:i.end,end:r.now()}));return u.codePointAt(0)!==94||!l.includes(u.slice(1))?t(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),n(a))}}function gi(e,n){let t=e.length;for(;t--;)if(e[t][1].type==="labelImage"&&e[t][0]==="enter"){e[t][1];break}e[t+1][1].type="data",e[t+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[t+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[t+3][1].end),end:Object.assign({},e[t+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},s=[e[t+1],e[t+2],["enter",r,n],e[t+3],e[t+4],["enter",o,n],["exit",o,n],["enter",l,n],["enter",i,n],["exit",i,n],["exit",l,n],e[e.length-2],e[e.length-1],["exit",r,n]];return e.splice(t,e.length-t+1,...s),e}function mi(e,n,t){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,i;return s;function s(c){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),a}function a(c){return c!==94?t(c):(e.enter("gfmFootnoteCallMarker"),e.consume(c),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(c){if(l>999||c===93&&!i||c===null||c===91||q(c))return t(c);if(c===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return o.includes(pe(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):t(c)}return q(c)||(i=!0),l++,e.consume(c),c===92?h:u}function h(c){return c===91||c===92||c===93?(e.consume(c),l++,u):u(c)}}function di(e,n,t){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,i=0,s;return a;function a(f){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(f),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(f){return f===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(f),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):t(f)}function h(f){if(i>999||f===93&&!s||f===null||f===91||q(f))return t(f);if(f===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return l=pe(r.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(f),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return q(f)||(s=!0),i++,e.consume(f),f===92?c:h}function c(f){return f===91||f===92||f===93?(e.consume(f),i++,h):h(f)}function g(f){return f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),o.includes(l)||o.push(l),he(e,m,"gfmFootnoteDefinitionWhitespace")):t(f)}function m(f){return n(f)}}function ki(e,n,t){return e.check(ui,n,e.attempt(fi,n,t))}function bi(e){e.exit("gfmFootnoteDefinition")}function xi(e,n,t){const r=this;return he(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?n(l):t(l)}}function te(e,n,t,r){const o=e.length;let l=0,i;if(n<0?n=-n>o?0:o+n:n=n>o?o:n,t=t>0?t:0,r.length<1e4)i=Array.from(r),i.unshift(n,t),e.splice(...i);else for(t&&e.splice(n,t);l<r.length;)i=r.slice(l,l+1e4),i.unshift(n,0),e.splice(...i),l+=1e4,n+=1e4}function wi(e){return e!==null&&(e<0||e===32)}const yi=mt(new RegExp("\\p{P}|\\p{S}","u")),Ci=mt(/\s/);function mt(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function Te(e){if(e===null||wi(e)||Ci(e))return 1;if(yi(e))return 2}function vi(e,n,t){const r=[];let o=-1;for(;++o<e.length;){const l=e[o].resolveAll;l&&!r.includes(l)&&(n=l(n,t),r.push(l))}return n}function Si(e){let t=e.singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:o};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(i,s){let a=-1;for(;++a<i.length;)if(i[a][0]==="enter"&&i[a][1].type==="strikethroughSequenceTemporary"&&i[a][1]._close){let u=a;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[a][1].end.offset-i[a][1].start.offset===i[u][1].end.offset-i[u][1].start.offset){i[a][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[a][1].end)},c={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[a][1].start)},g=[["enter",h,s],["enter",i[u][1],s],["exit",i[u][1],s],["enter",c,s]],m=s.parser.constructs.insideSpan.null;m&&te(g,g.length,0,vi(m,i.slice(u+1,a),s)),te(g,g.length,0,[["exit",c,s],["enter",i[a][1],s],["exit",i[a][1],s],["exit",h,s]]),te(i,u-1,a-u+3,g),a=u+g.length-2;break}}for(a=-1;++a<i.length;)i[a][1].type==="strikethroughSequenceTemporary"&&(i[a][1].type="data");return i}function l(i,s,a){const u=this.previous,h=this.events;let c=0;return g;function g(f){return u===126&&h[h.length-1][1].type!=="characterEscape"?a(f):(i.enter("strikethroughSequenceTemporary"),m(f))}function m(f){const k=Te(u);if(f===126)return c>1?a(f):(i.consume(f),c++,m);if(c<2&&!t)return a(f);const b=i.exit("strikethroughSequenceTemporary"),d=Te(f);return b._open=!d||d===2&&!!k,b._close=!k||k===2&&!!d,s(f)}}}function N(e){return e!==null&&e<-2}function Ee(e){return e!==null&&(e<0||e===32)}function T(e){return e===-2||e===-1||e===32}function P(e,n,t,r){const o=r?r-1:Number.POSITIVE_INFINITY;let l=0;return i;function i(a){return T(a)?(e.enter(t),s(a)):n(a)}function s(a){return T(a)&&l++<o?(e.consume(a),s):(e.exit(t),n(a))}}class Ai{constructor(){this.map=[]}add(n,t,r){Fi(this,n,t,r)}consume(n){if(this.map.sort(function(l,i){return l[0]-i[0]}),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(n.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),n.length=this.map[t][0];r.push([...n]),n.length=0;let o=r.pop();for(;o;)n.push(...o),o=r.pop();this.map.length=0}}function Fi(e,n,t,r){let o=0;if(!(t===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===n){e.map[o][1]+=t,e.map[o][2].push(...r);return}o+=1}e.map.push([n,t,r])}}function Di(e,n){let t=!1;const r=[];for(;n<e.length;){const o=e[n];if(t){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(t=!0);n+=1}return r}function Ri(){return{flow:{null:{name:"table",tokenize:zi,resolveAll:Ii}}}}function zi(e,n,t){const r=this;let o=0,l=0,i;return s;function s(p){let j=r.events.length-1;for(;j>-1;){const de=r.events[j][1].type;if(de==="lineEnding"||de==="linePrefix")j--;else break}const ge=j>-1?r.events[j][1].type:null,me=ge==="tableHead"||ge==="tableRow"?v:a;return me===v&&r.parser.lazy[r.now().line]?t(p):me(p)}function a(p){return e.enter("tableHead"),e.enter("tableRow"),u(p)}function u(p){return p===124||(i=!0,l+=1),h(p)}function h(p){return p===null?t(p):N(p)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),m):t(p):T(p)?P(e,h,"whitespace")(p):(l+=1,i&&(i=!1,o+=1),p===124?(e.enter("tableCellDivider"),e.consume(p),e.exit("tableCellDivider"),i=!0,h):(e.enter("data"),c(p)))}function c(p){return p===null||p===124||Ee(p)?(e.exit("data"),h(p)):(e.consume(p),p===92?g:c)}function g(p){return p===92||p===124?(e.consume(p),c):c(p)}function m(p){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(p):(e.enter("tableDelimiterRow"),i=!1,T(p)?P(e,f,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p):f(p))}function f(p){return p===45||p===58?b(p):p===124?(i=!0,e.enter("tableCellDivider"),e.consume(p),e.exit("tableCellDivider"),k):C(p)}function k(p){return T(p)?P(e,b,"whitespace")(p):b(p)}function b(p){return p===58?(l+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(p),e.exit("tableDelimiterMarker"),d):p===45?(l+=1,d(p)):p===null||N(p)?S(p):C(p)}function d(p){return p===45?(e.enter("tableDelimiterFiller"),x(p)):C(p)}function x(p){return p===45?(e.consume(p),x):p===58?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(p),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(p))}function y(p){return T(p)?P(e,S,"whitespace")(p):S(p)}function S(p){return p===124?f(p):p===null||N(p)?!i||o!==l?C(p):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(p)):C(p)}function C(p){return t(p)}function v(p){return e.enter("tableRow"),F(p)}function F(p){return p===124?(e.enter("tableCellDivider"),e.consume(p),e.exit("tableCellDivider"),F):p===null||N(p)?(e.exit("tableRow"),n(p)):T(p)?P(e,F,"whitespace")(p):(e.enter("data"),_(p))}function _(p){return p===null||p===124||Ee(p)?(e.exit("data"),F(p)):(e.consume(p),p===92?dt:_)}function dt(p){return p===92||p===124?(e.consume(p),_):_(p)}}function Ii(e,n){let t=-1,r=!0,o=0,l=[0,0,0,0],i=[0,0,0,0],s=!1,a=0,u,h,c;const g=new Ai;for(;++t<e.length;){const m=e[t],f=m[1];m[0]==="enter"?f.type==="tableHead"?(s=!1,a!==0&&(Le(g,n,a,u,h),h=void 0,a=0),u={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},g.add(t,0,[["enter",u,n]])):f.type==="tableRow"||f.type==="tableDelimiterRow"?(r=!0,c=void 0,l=[0,0,0,0],i=[0,t+1,0,0],s&&(s=!1,h={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},g.add(t,0,[["enter",h,n]])),o=f.type==="tableDelimiterRow"?2:h?3:1):o&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")?(r=!1,i[2]===0&&(l[1]!==0&&(i[0]=i[1],c=H(g,n,l,o,void 0,c),l=[0,0,0,0]),i[2]=t)):f.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(i[0]=i[1],c=H(g,n,l,o,void 0,c)),l=i,i=[l[1],t,0,0])):f.type==="tableHead"?(s=!0,a=t):f.type==="tableRow"||f.type==="tableDelimiterRow"?(a=t,l[1]!==0?(i[0]=i[1],c=H(g,n,l,o,t,c)):i[1]!==0&&(c=H(g,n,i,o,t,c)),o=0):o&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")&&(i[3]=t)}for(a!==0&&Le(g,n,a,u,h),g.consume(n.events),t=-1;++t<n.events.length;){const m=n.events[t];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Di(n.events,t))}return e}function H(e,n,t,r,o,l){const i=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";t[0]!==0&&(l.end=Object.assign({},E(n.events,t[0])),e.add(t[0],0,[["exit",l,n]]));const a=E(n.events,t[1]);if(l={type:i,start:Object.assign({},a),end:Object.assign({},a)},e.add(t[1],0,[["enter",l,n]]),t[2]!==0){const u=E(n.events,t[2]),h=E(n.events,t[3]),c={type:s,start:Object.assign({},u),end:Object.assign({},h)};if(e.add(t[2],0,[["enter",c,n]]),r!==2){const g=n.events[t[2]],m=n.events[t[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",t[3]>t[2]+1){const f=t[2]+1,k=t[3]-t[2]-1;e.add(f,k,[])}}e.add(t[3]+1,0,[["exit",c,n]])}return o!==void 0&&(l.end=Object.assign({},E(n.events,o)),e.add(o,0,[["exit",l,n]]),l=void 0),l}function Le(e,n,t,r,o){const l=[],i=E(n.events,t);o&&(o.end=Object.assign({},i),l.push(["exit",o,n])),r.end=Object.assign({},i),l.push(["exit",r,n]),e.add(t+1,0,l)}function E(e,n){const t=e[n],r=t[0]==="enter"?"start":"end";return t[1][r]}function Ti(e){return e!==null&&e<-2}function Ei(e){return e!==null&&(e<0||e===32)}function le(e){return e===-2||e===-1||e===32}function Li(e,n,t,r){const o=Number.POSITIVE_INFINITY;let l=0;return i;function i(a){return le(a)?(e.enter(t),s(a)):n(a)}function s(a){return le(a)&&l++<o?(e.consume(a),s):(e.exit(t),n(a))}}const ji={name:"tasklistCheck",tokenize:Mi};function Pi(){return{text:{91:ji}}}function Mi(e,n,t){const r=this;return o;function o(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),l)}function l(a){return Ei(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),i):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),i):t(a)}function i(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):t(a)}function s(a){return Ti(a)?n(a):le(a)?e.check({tokenize:Oi},n,t)(a):t(a)}}function Oi(e,n,t){return Li(e,r,"whitespace");function r(o){return o===null?t(o):n(o)}}function $i(e){return Gr([Xr(),hi(),Si(e),Ri(),Pi()])}const _i={};function Bi(e){const n=this,t=e||_i,r=n.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),i=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push($i(t)),l.push(Wr()),i.push(qr(t))}const Ni={'code[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto",borderRadius:"0.3em"},'code[class*="language-"]::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"]::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},':not(pre) > code[class*="language-"]':{padding:"0.2em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},prolog:{color:"hsl(220, 10%, 40%)"},cdata:{color:"hsl(220, 10%, 40%)"},doctype:{color:"hsl(220, 14%, 71%)"},punctuation:{color:"hsl(220, 14%, 71%)"},entity:{color:"hsl(220, 14%, 71%)",cursor:"help"},"attr-name":{color:"hsl(29, 54%, 61%)"},"class-name":{color:"hsl(29, 54%, 61%)"},boolean:{color:"hsl(29, 54%, 61%)"},constant:{color:"hsl(29, 54%, 61%)"},number:{color:"hsl(29, 54%, 61%)"},atrule:{color:"hsl(29, 54%, 61%)"},keyword:{color:"hsl(286, 60%, 67%)"},property:{color:"hsl(355, 65%, 65%)"},tag:{color:"hsl(355, 65%, 65%)"},symbol:{color:"hsl(355, 65%, 65%)"},deleted:{color:"hsl(355, 65%, 65%)"},important:{color:"hsl(355, 65%, 65%)"},selector:{color:"hsl(95, 38%, 62%)"},string:{color:"hsl(95, 38%, 62%)"},char:{color:"hsl(95, 38%, 62%)"},builtin:{color:"hsl(95, 38%, 62%)"},inserted:{color:"hsl(95, 38%, 62%)"},regex:{color:"hsl(95, 38%, 62%)"},"attr-value":{color:"hsl(95, 38%, 62%)"},"attr-value > .token.punctuation":{color:"hsl(95, 38%, 62%)"},variable:{color:"hsl(207, 82%, 66%)"},operator:{color:"hsl(207, 82%, 66%)"},function:{color:"hsl(207, 82%, 66%)"},url:{color:"hsl(187, 47%, 55%)"},"attr-value > .token.punctuation.attr-equals":{color:"hsl(220, 14%, 71%)"},"special-attr > .token.attr-value > .token.value.css":{color:"hsl(220, 14%, 71%)"},".language-css .token.selector":{color:"hsl(355, 65%, 65%)"},".language-css .token.property":{color:"hsl(220, 14%, 71%)"},".language-css .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.string.url":{color:"hsl(95, 38%, 62%)"},".language-css .token.important":{color:"hsl(286, 60%, 67%)"},".language-css .token.atrule .token.rule":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.operator":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation":{color:"hsl(5, 48%, 51%)"},".language-json .token.operator":{color:"hsl(220, 14%, 71%)"},".language-json .token.null.keyword":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.url":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.operator":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url-reference.url > .token.string":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.content":{color:"hsl(207, 82%, 66%)"},".language-markdown .token.url > .token.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.url-reference.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.blockquote.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.hr.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.code-snippet":{color:"hsl(95, 38%, 62%)"},".language-markdown .token.bold .token.content":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.italic .token.content":{color:"hsl(286, 60%, 67%)"},".language-markdown .token.strike .token.content":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.strike .token.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.list.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.title.important > .token.punctuation":{color:"hsl(355, 65%, 65%)"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},namespace:{Opacity:"0.8"},"token.tab:not(:empty):before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.cr:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.lf:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.space:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item":{marginRight:"0.4em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},".line-highlight.line-highlight":{background:"hsla(220, 100%, 80%, 0.04)"},".line-highlight.line-highlight:before":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},".line-highlight.line-highlight[data-end]:after":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"hsla(220, 100%, 80%, 0.04)"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".command-line .command-line-prompt":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".line-numbers .line-numbers-rows > span:before":{color:"hsl(220, 14%, 45%)"},".command-line .command-line-prompt > span:before":{color:"hsl(220, 14%, 45%)"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"hsl(286, 60%, 67%)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},".prism-previewer.prism-previewer:before":{borderColor:"hsl(224, 13%, 17%)"},".prism-previewer-gradient.prism-previewer-gradient div":{borderColor:"hsl(224, 13%, 17%)",borderRadius:"0.3em"},".prism-previewer-color.prism-previewer-color:before":{borderRadius:"0.3em"},".prism-previewer-easing.prism-previewer-easing:before":{borderRadius:"0.3em"},".prism-previewer.prism-previewer:after":{borderTopColor:"hsl(224, 13%, 17%)"},".prism-previewer-flipped.prism-previewer-flipped.after":{borderBottomColor:"hsl(224, 13%, 17%)"},".prism-previewer-angle.prism-previewer-angle:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-time.prism-previewer-time:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-easing.prism-previewer-easing":{background:"hsl(219, 13%, 22%)"},".prism-previewer-angle.prism-previewer-angle circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-time.prism-previewer-time circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-easing.prism-previewer-easing circle":{stroke:"hsl(220, 14%, 71%)",fill:"transparent"},".prism-previewer-easing.prism-previewer-easing path":{stroke:"hsl(220, 14%, 71%)"},".prism-previewer-easing.prism-previewer-easing line":{stroke:"hsl(220, 14%, 71%)"}};function Hi(e){var l;const n=/References:\s*(?<block>\[REFERENCES:\s*\{[\s\S]*?\}\])\s*$/i,t=e.match(n);if(!((l=t==null?void 0:t.groups)!=null&&l.block))return{answer:e.trim(),referencesRaw:""};const r=t.groups.block.trim();return{answer:e.slice(0,t.index).trim(),referencesRaw:r}}function Ui(e){const n=/\[REFERENCES:\s*(\{.*\})\]/s,t=e.match(n);if(!t)return[];try{const o=JSON.parse(t[1]).files||[];return Array.isArray(o)?o.map((l,i)=>({number:i+1,file:l})):[]}catch(r){return console.error("Failed to parse references JSON:",r),[]}}function Wi({message:e}){const n=e.text??"",{answer:t,referencesRaw:r}=z.useMemo(()=>Hi(n),[n]),o=z.useMemo(()=>Ui(r),[r]),l=({inline:i,className:s,children:a,...u})=>{const h=/language-(\w+)/.exec(s||"");return!i&&h?w.jsx(Rt,{style:Ni,language:h[1],PreTag:"div",showLineNumbers:!0,...u,children:String(a).replace(/\n$/,"")}):w.jsx("code",{className:s,...u,children:a})};return w.jsxs(je,{style:{whiteSpace:"pre-wrap",lineHeight:1.6},children:[w.jsx(Dt,{remarkPlugins:[Bi],components:{code:l},children:t}),r&&o.length>0&&w.jsxs(w.Fragment,{children:[w.jsx(kt,{my:"md",variant:"dashed"}),w.jsx(U,{fw:"bold",mb:"xs",children:"References"}),w.jsx(ke,{size:"sm",spacing:"xs",listStyleType:"none",ml:0,children:o.map(({number:i,file:s})=>w.jsxs(ke.Item,{children:["[",i,"] ",s]},i))})]})]})}function qi({message:e}){const n=e.isBot;return w.jsxs(Pe,{gap:4,align:n?"flex-start":"flex-end",style:{padding:"0.5rem 1rem",maxWidth:"85%",alignSelf:n?"flex-start":"flex-end"},children:[w.jsxs(bt,{align:"flex-start",style:{backgroundColor:n?"var(--message-bot-bg)":void 0,borderRadius:"8px",gap:n?"1rem":"0.5rem",flexDirection:n?"row":"row-reverse"},children:[w.jsx("div",{style:{width:"2.5rem",height:"2.5rem",borderRadius:"50%",backgroundColor:n?"var(--icon-bg)":"var(--message-user-bg)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:n?w.jsx(Me,{style:{width:"calc(1.5rem * var(--mantine-scale))",height:"calc(1.5rem * var(--mantine-scale))",color:"var(--mantine-color-blue-filled)"}}):w.jsx(zt,{style:{width:"calc(1.5rem * var(--mantine-scale))",height:"calc(1.5rem * var(--mantine-scale))",color:"white"}})}),w.jsx(ne,{shadow:"sm",p:"lg",style:{flex:1,backgroundColor:n?"var(--container-bg)":"var(--message-user-bg)",color:n?"var(--text-bright)":"white",border:n?"1px solid var(--border-color)":"none"},radius:"md",children:w.jsx(Wi,{message:e})})]}),w.jsx(U,{size:"xs",c:"dimmed",style:{marginLeft:n?"3.5rem":"0",marginRight:n?"0":"3.5rem"},children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}function Vi(){return w.jsxs(je,{style:{textAlign:"center",padding:"4rem 1rem",color:"var(--text-secondary)"},children:[w.jsx(Me,{size:48,style:{marginBottom:"1rem",opacity:.5}}),w.jsx(U,{size:"lg",children:"Start a conversation..."}),w.jsx(U,{size:"sm",c:"dimmed",children:"Type a message below to begin"})]})}function Gi(){const{messages:e,isStreaming:n,sendMessage:t}=Ot(),[r,o]=z.useState(""),l=async i=>{if(i.preventDefault(),!r.trim()||n)return;const s=r.trim();o(""),await t(s)};return w.jsxs(ne,{style:{height:"100%",backgroundColor:"var(--container-bg)",border:"1px solid var(--border-color)",display:"flex",flexDirection:"column",overflow:"hidden"},radius:"lg",shadow:"md",children:[w.jsx(xt,{order:2,ta:"center",py:"sm",style:{borderBottom:"1px solid var(--border-color)",backgroundColor:"var(--header-bg)",color:"var(--text-bright)"},children:"Reminder Media Chatbot"}),w.jsx(wt,{flex:1,type:"hover",offsetScrollbars:!0,scrollbarSize:8,style:{backgroundColor:"var(--chat-bg)",width:"100%"},children:w.jsx(Pe,{gap:"md",p:"md",style:{width:"100%"},children:e.length===0?w.jsx(Vi,{}):e.map(i=>w.jsx(qi,{message:i},i.id))})}),w.jsx(ne,{p:"md",style:{borderTop:"1px solid var(--border-color)",backgroundColor:"var(--input-bg)"},children:w.jsx("form",{onSubmit:l,children:w.jsx(yt,{placeholder:"Type your message...",value:r,onChange:i=>o(i.target.value),disabled:n,size:"lg",radius:"xl",styles:{input:{backgroundColor:"var(--container-bg)",border:"1px solid var(--border-color)","&:focus":{borderColor:"var(--mantine-color-blue-filled)"},fontSize:"1rem",padding:"1.2rem",height:"auto",paddingRight:"3.5rem",color:"var(--text-bright)","&::placeholder":{color:"var(--text-secondary)"}}},rightSection:w.jsx(Ct,{size:"lg",radius:"xl",color:"blue",variant:"subtle",type:"submit",disabled:!r.trim()||n,style:{backgroundColor:r.trim()?"var(--mantine-color-blue-filled)":"transparent",color:r.trim()?"white":"var(--mantine-color-blue-filled)",transition:"all 0.2s ease","&:hover":{backgroundColor:r.trim()?"var(--mantine-color-blue-filled-hover)":"var(--mantine-color-blue-light)"}},children:w.jsx(It,{style:{width:"1.2rem",height:"1.2rem"}})})})})})]})}function Ji(){return w.jsx(vt,{defaultColorScheme:"dark",children:w.jsx(St,{style:{backgroundColor:"var(--app-bg)",minHeight:"100vh"},children:w.jsx(At,{size:"md",h:"100vh",p:"md",style:{display:"flex",flexDirection:"column"},children:w.jsx(Gi,{})})})})}Et.createRoot(document.getElementById("root")).render(w.jsx(z.StrictMode,{children:w.jsx(Ji,{})}));
